!function(t){"function"==typeof define&&define.amd?define("script",t):t()}((function(){"use strict";var t=document;function e(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function a(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var n=document,r={};var o,s,c,i,d=function(){var t=n.querySelector(".todo-tasks-container"),e=n.querySelectorAll("[data-tasks-actions]"),a=n.querySelector(".todo-tasks-tags > p > span"),o=n.getElementById("template-task").content,s=n.createDocumentFragment(),c=n.getElementById("btnAllTasks");if(0===Object.entries(r).length)return e.forEach((function(t){return t.classList.add("is-active")})),void(t.innerHTML='<div class="todo-tasks-empty">No hay tareas pendientes ðŸ˜ŠðŸ˜Ž</div>');t.innerHTML="",e.forEach((function(t){return t.classList.remove("is-active")})),Object.values(r).forEach((function(t){var e=t.id,a=t.task,n=t.state,r=t.classActive,c=o.cloneNode(!0);c.querySelector(".todo-task-description > p").textContent=a,c.querySelector(".todo-task").dataset.state=n,c.querySelector(".todo-task").classList.add("".concat(r)),c.querySelector(".todo-task").dataset.id=e,c.querySelector(".todo-task").setAttribute("draggable",!0),s.appendChild(c)})),c.classList.contains("active")&&(a.textContent=Object.values(r).length),t.appendChild(s)},l=function(t,o){var s=n.getElementById("btnAllTasks"),c=n.querySelectorAll(".todo-details-btn");if(""!==o){var i={id:Date.now(),task:o,state:!1,classActive:"_"};r[i.id]=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},i),s.classList.contains("active")||(alert("Tareas activas y completadas!! ðŸ˜ŽðŸ˜ŽðŸ˜Ž"),g(c,s)),d(),t.reset()}else alert("Campo vacio , Favor Ingresa una tarea ðŸ˜‰ðŸ˜‰")},u=function(t){var e=n.querySelector(".todo-tasks-tags > p > span"),a=n.getElementById("btnActiveTasks"),o=n.getElementById("btnCompletedTasks");if(t.target.matches(".todo-task-description")||t.target.matches(".todo-task-description > *")){var s=t.target.matches(".todo-task-description")?t.target.parentElement:t.target.parentElement.parentElement,c="is-active";"false"==s.dataset.state?(s.classList.replace("_","".concat(c)),s.dataset.state="true",r[s.dataset.id].classActive="".concat(c),r[s.dataset.id].state=!0):(s.classList.replace("".concat(c),"_"),s.dataset.state="false",r[s.dataset.id].classActive="_",r[s.dataset.id].state=!1),a.classList.contains("active")&&(v(!1,e),p(!0)),o.classList.contains("active")&&(v(!0,e),p(!1))}if(t.target.matches(".todo-task-delete")){var i=t.target.parentElement;delete r[i.dataset.id],d()}},f=function(t){var e=n.getElementById("btnAllTasks"),a=n.getElementById("btnActiveTasks"),o=n.getElementById("btnCompletedTasks"),s=n.querySelectorAll(".todo-details-btn"),c=n.querySelector(".todo-tasks-tags > p > span"),i=n.getElementById("btnClearCompleted");(t.target.matches(".todo-details-btn")&&g(s,t.target),t.target===e&&m(),t.target===a&&(d(),v(!1,c),p(!0)),t.target===o&&(d(),v(!0,c),p(!1)),t.target===i)&&(Object.values(r).filter((function(t){return t.state})).length>0?alert("Se limpio correctamente las tareas completadas ðŸ˜ŽðŸ˜Ž"):alert("No hay tareas cumplidas ðŸ˜’ðŸ˜’"),p(!0,!1),d(),g(s,e))},g=function(t,e){t.forEach((function(t){t.classList.remove("active")})),e.classList.add("active")},m=function(){d()},v=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0,a=Object.values(r).filter((function(e){return e.state===t})).length;e.textContent=a},p=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object.values(r).filter((function(a){var o=a.id;a.state===t&&n.querySelectorAll(".todo-task").forEach((function(t){var a=t.dataset.id;o==a&&(e?t.style.display="none":delete r[a])}))}))};!function(){function e(){t.body.classList.remove("dark-theme"),t.body.classList.add("light-theme"),n("moon","Icon Dark Mode"),localStorage.setItem("theme","light")}function a(){t.body.classList.add("dark-theme"),t.body.classList.remove("light-theme"),n("sun","Icon Light Mode"),localStorage.setItem("theme","dark")}function n(e,a){var n=t.querySelector(".dark-theme-img [data-icon-theme]");n.setAttribute("src","./images/icon-".concat(e,".svg")),n.setAttribute("alt",a)}matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(t){t.matches?a():e()})),t.addEventListener("click",(function(n){n.target.matches(".dark-theme-img")&&(t.body.classList.contains("dark-theme")?e():a())})),t.addEventListener("DOMContentLoaded",(function(){void 0===localStorage.getItem("theme")&&localStorage.setItem("theme","light"),"light"===localStorage.getItem("theme")&&e(),"dark"===localStorage.getItem("theme")&&a()}))}(),c=n.getElementById("formTodo"),i=n.getElementById("todoContainer"),c.addEventListener("submit",(function(t){t.preventDefault();var e=c.txtnewTask.value;l(t.target,e)})),n.addEventListener("DOMContentLoaded",(function(t){d()})),n.addEventListener("click",(function(t){u(t),f(t)})),i.addEventListener("dragstart",(function(t){t.dataTransfer.setData("text/plain",t.target.dataset.id),n.querySelectorAll(".todo-task-description").forEach((function(t){t.style.pointerEvents="none"})),n.querySelectorAll(".todo-task").forEach((function(e,a){t.target.dataset.id!==e.dataset.id||(o=a)}))})),i.addEventListener("dragover",(function(t){t.preventDefault()})),i.addEventListener("drop",(function(t){t.preventDefault();var e=t.dataTransfer.getData("text"),a=n.querySelector('.todo-task[data-id="'.concat(e,'"]'));n.querySelectorAll(".todo-task").forEach((function(e,a){t.target.dataset.id!==e.dataset.id||(s=a)})),i.children[o].insertAdjacentElement("afterend",t.target),i.children[s].insertAdjacentElement("afterend",a),n.querySelectorAll(".todo-task-description").forEach((function(t){t.style.pointerEvents="auto"}))}))}));
//# sourceMappingURL=script.js.map
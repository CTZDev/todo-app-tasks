!function(t){"function"==typeof define&&define.amd?define("script",t):t()}((function(){"use strict";var t=document;function e(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function a(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var n=document,r={};var o=function(t,o){var i=n.getElementById("btnAllTasks"),c=n.querySelectorAll(".todo-details-btn");if(""!==o){var d={id:Date.now(),task:o,state:!1,classActive:"_"};r[d.id]=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},d),i.classList.contains("active")||(alert("Tareas activas y completadas!! ðŸ˜ŽðŸ˜ŽðŸ˜Ž"),l(c,i)),s(),t.reset()}else alert("Campo vacio , Favor Ingresa una tarea ðŸ˜‰ðŸ˜‰")},s=function(){var t=n.querySelector(".todo-tasks-container"),e=n.querySelectorAll("[data-tasks-actions]"),a=n.querySelector(".todo-tasks-tags > p > span"),o=n.getElementById("template-task").content,s=n.createDocumentFragment(),i=n.getElementById("btnAllTasks");if(localStorage.setItem("todo-list",JSON.stringify(r)),0===Object.entries(r).length)return e.forEach((function(t){return t.classList.add("is-active")})),void(t.innerHTML='<div class="todo-tasks-empty">No hay tareas pendientes ðŸ˜ŠðŸ˜Ž</div>');t.innerHTML="",e.forEach((function(t){return t.classList.remove("is-active")})),Object.values(r).forEach((function(t){var e=t.id,a=t.task,n=t.state,r=t.classActive,i=o.cloneNode(!0);i.querySelector(".todo-task-description > p").textContent=a,i.querySelector(".todo-task").dataset.state=n,i.querySelector(".todo-task").classList.add("".concat(r)),i.querySelector(".todo-task").dataset.id=e,i.querySelector(".todo-task").setAttribute("draggable",!0),s.appendChild(i)})),i.classList.contains("active")&&(a.textContent=Object.values(r).length),t.appendChild(s)},i=function(t){var e=n.querySelector(".todo-tasks-tags > p > span"),a=n.getElementById("btnActiveTasks"),o=n.getElementById("btnCompletedTasks");if(t.target.matches(".todo-task-description")||t.target.matches(".todo-task-description > *")){var i=t.target.matches(".todo-task-description")?t.target.parentElement:t.target.parentElement.parentElement,c="is-active";"false"==i.dataset.state?(i.classList.replace("_","".concat(c)),i.dataset.state="true",r[i.dataset.id].classActive="".concat(c),r[i.dataset.id].state=!0):(i.classList.replace("".concat(c),"_"),i.dataset.state="false",r[i.dataset.id].classActive="_",r[i.dataset.id].state=!1),a.classList.contains("active")&&(u(!1,e),f(!0)),o.classList.contains("active")&&(u(!0,e),f(!1))}if(t.target.matches(".todo-task-delete")){var l=t.target.parentElement;delete r[l.dataset.id],s()}},c=function(t){var e=n.getElementById("btnAllTasks"),a=n.getElementById("btnActiveTasks"),o=n.getElementById("btnCompletedTasks"),i=n.querySelectorAll(".todo-details-btn"),c=n.querySelector(".todo-tasks-tags > p > span"),g=n.getElementById("btnClearCompleted");(t.target.matches(".todo-details-btn")&&l(i,t.target),t.target===e&&d(),t.target===a&&(s(),u(!1,c),f(!0)),t.target===o&&(s(),u(!0,c),f(!1)),t.target===g)&&(Object.values(r).filter((function(t){return t.state})).length>0?alert("Se limpio correctamente las tareas completadas ðŸ˜ŽðŸ˜Ž"):alert("No hay tareas cumplidas ðŸ˜’ðŸ˜’"),f(!0,!1),s(),l(i,e))},l=function(t,e){t.forEach((function(t){t.classList.remove("active")})),e.classList.add("active")},d=function(){s()},u=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0,a=Object.values(r).filter((function(e){return e.state===t})).length;e.textContent=a},f=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object.values(r).filter((function(a){var o=a.id;a.state===t&&n.querySelectorAll(".todo-task").forEach((function(t){var a=t.dataset.id;o==a&&(e?t.style.display="none":delete r[a])}))}))},g=document;function m(){var t,e,a=g.getElementById("todoContainer");a.addEventListener("dragstart",(function(e){h(e),t=p(e)})),a.addEventListener("dragover",(function(t){t.preventDefault()})),a.addEventListener("drop",(function(n){e=p(n);var o=y(n);t<=e?(a.children[t].insertAdjacentElement("afterend",n.target),a.children[e].insertAdjacentElement("afterend",o)):(a.children[t].insertAdjacentElement("beforebegin",n.target),a.children[e].insertAdjacentElement("beforebegin",o));var s,i,c,l=o.dataset.id,d=n.target.dataset.id,u=Object.entries(r),f=Object.entries(r).filter((function(t,e){if(t[0]==l)return s=e,t[0]})).flat(1),g=Object.entries(r).filter((function(t,e){if(t[0]==d)return i=e,t[0]})).flat(1);u.splice(i,1,f),u.splice(s,1,g),c={},u.forEach((function(t){var e=t[0],a=t[1];c[e]=a})),r=c,localStorage.setItem("todo-list",JSON.stringify(r))}))}var v,p=function(t){var e=null;return g.querySelectorAll(".todo-task").forEach((function(a,n){t.target.dataset.id!==a.dataset.id||(e=n)})),e},h=function(t){t.dataTransfer.setData("text/plain",t.target.dataset.id),g.querySelectorAll(".todo-task-description").forEach((function(t){t.style.pointerEvents="none"})),t.dataTransfer.effectAllowed="move"},y=function(t){t.preventDefault();var e=t.dataTransfer.getData("text"),a=g.querySelector('.todo-task[data-id="'.concat(e,'"]'));return g.querySelectorAll(".todo-task-description").forEach((function(t){t.style.pointerEvents="auto"})),a};document.addEventListener("DOMContentLoaded",(function(t){m()})),function(){function e(){t.body.classList.remove("dark-theme"),t.body.classList.add("light-theme"),n("moon","Icon Dark Mode"),localStorage.setItem("theme","light")}function a(){t.body.classList.add("dark-theme"),t.body.classList.remove("light-theme"),n("sun","Icon Light Mode"),localStorage.setItem("theme","dark")}function n(e,a){var n=t.querySelector(".dark-theme-img [data-icon-theme]");n.setAttribute("src","./images/icon-".concat(e,".svg")),n.setAttribute("alt",a)}matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(t){t.matches?a():e()})),t.addEventListener("click",(function(n){n.target.matches(".dark-theme-img")&&(t.body.classList.contains("dark-theme")?e():a())})),t.addEventListener("DOMContentLoaded",(function(){void 0===localStorage.getItem("theme")&&localStorage.setItem("theme","light"),"light"===localStorage.getItem("theme")&&e(),"dark"===localStorage.getItem("theme")&&a()}))}(),(v=n.getElementById("formTodo")).addEventListener("submit",(function(t){t.preventDefault();var e=v.txtnewTask.value;o(t.target,e)})),n.addEventListener("DOMContentLoaded",(function(t){localStorage.getItem("todo-list")&&(r=JSON.parse(localStorage.getItem("todo-list"))),s()})),n.addEventListener("click",(function(t){i(t),c(t)}))}));
//# sourceMappingURL=script.js.map
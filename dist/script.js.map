{"version":3,"sources":["app/js/script.js","app/js/modules/dark_theme.js","app/js/modules/task.js"],"names":["factory","define","amd","d","document","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_defineProperty","obj","key","value","defineProperty","configurable","writable","listTasks","indexDragTask","indexDropTask","$form","$containerTasks","setTask","form","txtnewTask","$btnAllTasks","getElementById","$detailsTasks","querySelectorAll","task","id","Date","now","state","classActive","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread2","classList","contains","alert","detailsTasksActions","drawTask","reset","$tasksContainer","querySelector","$dataTaskActions","$countTasks","$templateTask","content","$fragment","createDocumentFragment","localStorage","setItem","JSON","stringify","entries","add","innerHTML","remove","values","_ref","$clone","cloneNode","textContent","dataset","concat","setAttribute","appendChild","taskActions","e","$btnActiveTasks","$btnCompletedTasks","matches","$todoTask","parentElement","activeTask","replace","tasksLength","showAndHiddenTasks","$task","todoTaskOperations","$btnClearCompleted","todoAllTasks","_ref2","details","detail","active","undefined","countTask","completedTask","_ref3","optionTask","_ref4","$idTask","style","display","assignIdDragAndDrop","index","drag","dataTransfer","setData","desc","pointerEvents","effectAllowed","drop","preventDefault","data","getData","$target","lightTheme","body","changeThemeImage","darkTheme","imgSrc","alt","$imgDarkTheme","matchMedia","addEventListener","getItem","$txtnewTask","parse","children","insertAdjacentElement","indexDrag","indexDrop","idDrag","idDrop","listTasksCopy","taskDrag","taskId","flat","taskDrop","splice","v"],"mappings":"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","file":"app/js/script.js","sourcesContent":["import darkTheme from \"./modules/dark_theme.js\";\r\nimport todoTask from \"./modules/task.js\";\r\n\r\ndarkTheme();\r\ntodoTask();\r\n","const d = document;\r\n\r\nexport default function darkTheme() {\r\n  let mq = matchMedia(\"(prefers-color-scheme: dark)\");\r\n\r\n  function lightTheme() {\r\n    d.body.classList.remove(\"dark-theme\");\r\n    d.body.classList.add(\"light-theme\");\r\n    changeThemeImage(\"moon\", \"Icon Dark Mode\");\r\n    localStorage.setItem(\"theme\", \"light\");\r\n  }\r\n\r\n  function darkTheme() {\r\n    d.body.classList.add(\"dark-theme\");\r\n    d.body.classList.remove(\"light-theme\");\r\n    changeThemeImage(\"sun\", \"Icon Light Mode\");\r\n    localStorage.setItem(\"theme\", \"dark\");\r\n  }\r\n\r\n  function changeThemeImage(imgSrc, alt) {\r\n    const $imgDarkTheme = d.querySelector(\".dark-theme-img [data-icon-theme]\");\r\n    $imgDarkTheme.setAttribute(\"src\", `./images/icon-${imgSrc}.svg`);\r\n    $imgDarkTheme.setAttribute(\"alt\", alt);\r\n  }\r\n\r\n  function changeTheme(e) {\r\n    e.matches ? darkTheme() : lightTheme();\r\n  }\r\n  mq.addEventListener(\"change\", changeTheme);\r\n\r\n  d.addEventListener(\"click\", (e) => {\r\n    if (e.target.matches(\".dark-theme-img\")) {\r\n      if (d.body.classList.contains(\"dark-theme\")) {\r\n        lightTheme();\r\n      } else {\r\n        darkTheme();\r\n      }\r\n    }\r\n  });\r\n\r\n  d.addEventListener(\"DOMContentLoaded\", () => {\r\n    if (localStorage.getItem(\"theme\") === undefined) localStorage.setItem(\"theme\", \"light\");\r\n    if (localStorage.getItem(\"theme\") === \"light\") lightTheme();\r\n    if (localStorage.getItem(\"theme\") === \"dark\") darkTheme();\r\n  });\r\n}\r\n","const d = document;\r\n\r\n//List Of Tasks (Global) - Applied let for used localStorage\r\nexport let listTasks = {};\r\n\r\nexport default function todoTask() {\r\n  const $form = d.getElementById(\"formTodo\");\r\n  const $containerTasks = d.getElementById(\"todoContainer\");\r\n  let indexDragTask, indexDropTask;\r\n\r\n  $form.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n    const $txtnewTask = $form.txtnewTask.value;\r\n    setTask(e.target, $txtnewTask);\r\n  });\r\n\r\n  d.addEventListener(\"DOMContentLoaded\", (e) => {\r\n    if (localStorage.getItem(\"todo-list\")) {\r\n      listTasks = JSON.parse(localStorage.getItem(\"todo-list\"));\r\n    }\r\n    drawTask();\r\n  });\r\n\r\n  d.addEventListener(\"click\", (e) => {\r\n    taskActions(e);\r\n    todoTaskOperations(e);\r\n  });\r\n\r\n  $containerTasks.addEventListener(\"dragstart\", (e) => {\r\n    drag(e);\r\n    indexDragTask = assignIdDragAndDrop(e);\r\n  });\r\n\r\n  $containerTasks.addEventListener(\"touchstart\", (e) => {});\r\n\r\n  $containerTasks.addEventListener(\"dragover\", (e) => {\r\n    e.preventDefault();\r\n  });\r\n\r\n  $containerTasks.addEventListener(\"drop\", (e) => {\r\n    indexDropTask = assignIdDragAndDrop(e);\r\n    const $target = drop(e);\r\n\r\n    //SELECTED FROM UP TO DOWN - ALSO APPLIED REVERSE\r\n    if (indexDragTask <= indexDropTask) {\r\n      $containerTasks.children[indexDragTask].insertAdjacentElement(\"afterend\", e.target);\r\n      $containerTasks.children[indexDropTask].insertAdjacentElement(\"afterend\", $target);\r\n    } else {\r\n      $containerTasks.children[indexDragTask].insertAdjacentElement(\"beforebegin\", e.target);\r\n      $containerTasks.children[indexDropTask].insertAdjacentElement(\"beforebegin\", $target);\r\n    }\r\n\r\n    //e.target = donde termina el arrastre , $target = de donde inicio\r\n    let idDrag = $target.dataset.id;\r\n    let idDrop = e.target.dataset.id;\r\n    let indexDrag, indexDrop;\r\n\r\n    //Convert Object to Array , used for orders Elements Of the DOM\r\n    let listTasksCopy = Object.entries(listTasks);\r\n    //Obtain index of the element DRAG and return the object element\r\n    //Filter and capture results and compress array bidim.\r\n    let taskDrag = Object.entries(listTasks)\r\n      .filter((taskId, i) => {\r\n        if (taskId[0] == idDrag) {\r\n          indexDrag = i;\r\n          return taskId[0];\r\n        }\r\n      })\r\n      .flat(1);\r\n\r\n    let taskDrop = Object.entries(listTasks)\r\n      .filter((taskId, i) => {\r\n        if (taskId[0] == idDrop) {\r\n          indexDrop = i;\r\n          return taskId[0];\r\n        }\r\n      })\r\n      .flat(1);\r\n\r\n    //Delete element of the indexDrop and IndexDrag\r\n    listTasksCopy.splice(indexDrop, 1, taskDrag);\r\n    listTasksCopy.splice(indexDrag, 1, taskDrop);\r\n\r\n    //Function where captured first Property and used key\r\n    function arrTwoDimensionsToObject(arr) {\r\n      let obj = {};\r\n      arr.forEach((v) => {\r\n        let key = v[0];\r\n        let value = v[1];\r\n        obj[key] = value;\r\n      });\r\n      return obj;\r\n    }\r\n\r\n    listTasks = arrTwoDimensionsToObject(listTasksCopy);\r\n\r\n    //Storage in the localStorage with changes in the listTasks\r\n    localStorage.setItem(\"todo-list\", JSON.stringify(listTasks));\r\n  });\r\n}\r\n\r\n//Assign task to object listTasks\r\nconst setTask = (form, txtnewTask) => {\r\n  //Validity whitespace in the input new Task\r\n  const $btnAllTasks = d.getElementById(\"btnAllTasks\");\r\n  const $detailsTasks = d.querySelectorAll(\".todo-details-btn\");\r\n\r\n  if (txtnewTask === \"\") {\r\n    alert(\"Campo vacio , Favor Ingresa una tarea ðŸ˜‰ðŸ˜‰\");\r\n    return;\r\n  }\r\n  //Create Task\r\n  const task = {\r\n    id: Date.now(),\r\n    task: txtnewTask,\r\n    state: false,\r\n    classActive: \"_\",\r\n  };\r\n\r\n  //Object of the Task (Global)\r\n  listTasks[task.id] = { ...task };\r\n\r\n  if (!$btnAllTasks.classList.contains(\"active\")) {\r\n    alert(\"Tareas activas y completadas!! ðŸ˜ŽðŸ˜ŽðŸ˜Ž\");\r\n    detailsTasksActions($detailsTasks, $btnAllTasks);\r\n  }\r\n\r\n  //Draw task\r\n  drawTask();\r\n\r\n  //Reset form\r\n  form.reset();\r\n};\r\n\r\n//Draw mi tasks\r\nexport const drawTask = () => {\r\n  const $tasksContainer = d.querySelector(\".todo-tasks-container\");\r\n  const $dataTaskActions = d.querySelectorAll(\"[data-tasks-actions]\");\r\n  const $countTasks = d.querySelector(\".todo-tasks-tags > p > span\");\r\n  const $templateTask = d.getElementById(\"template-task\").content;\r\n  const $fragment = d.createDocumentFragment();\r\n  const $btnAllTasks = d.getElementById(\"btnAllTasks\");\r\n\r\n  localStorage.setItem(\"todo-list\", JSON.stringify(listTasks));\r\n\r\n  //Without Task\r\n  if (Object.entries(listTasks).length === 0) {\r\n    $dataTaskActions.forEach((task) => task.classList.add(\"is-active\"));\r\n    $tasksContainer.innerHTML = `<div class=\"todo-tasks-empty\">No hay tareas pendientes ðŸ˜ŠðŸ˜Ž</div>`;\r\n    return;\r\n  }\r\n\r\n  //With Task\r\n  $tasksContainer.innerHTML = \"\";\r\n  $dataTaskActions.forEach((task) => task.classList.remove(\"is-active\"));\r\n  Object.values(listTasks).forEach(({ id, task, state, classActive }) => {\r\n    const $clone = $templateTask.cloneNode(true);\r\n    $clone.querySelector(\".todo-task-description > p\").textContent = task;\r\n    $clone.querySelector(\".todo-task\").dataset.state = state;\r\n    $clone.querySelector(\".todo-task\").classList.add(`${classActive}`);\r\n    $clone.querySelector(`.todo-task`).dataset.id = id;\r\n    $clone.querySelector(`.todo-task`).setAttribute(\"draggable\", true);\r\n    $fragment.appendChild($clone);\r\n  });\r\n\r\n  if ($btnAllTasks.classList.contains(\"active\")) {\r\n    $countTasks.textContent = Object.values(listTasks).length;\r\n  }\r\n\r\n  $tasksContainer.appendChild($fragment);\r\n};\r\n\r\n//Tasks\r\nconst taskActions = (e) => {\r\n  const $countTasks = d.querySelector(\".todo-tasks-tags > p > span\");\r\n  const $btnActiveTasks = d.getElementById(\"btnActiveTasks\");\r\n  const $btnCompletedTasks = d.getElementById(\"btnCompletedTasks\");\r\n\r\n  //Task selected , completed and incompleted\r\n  if (e.target.matches(\".todo-task-description\") || e.target.matches(\".todo-task-description > *\")) {\r\n    const $taskDescription = e.target.matches(\".todo-task-description\");\r\n    const $todoTask = $taskDescription ? e.target.parentElement : e.target.parentElement.parentElement;\r\n    let activeTask = \"is-active\";\r\n\r\n    if ($todoTask.dataset.state == \"false\") {\r\n      $todoTask.classList.replace(\"_\", `${activeTask}`);\r\n      $todoTask.dataset.state = \"true\";\r\n      listTasks[$todoTask.dataset.id].classActive = `${activeTask}`;\r\n      listTasks[$todoTask.dataset.id].state = true;\r\n    } else {\r\n      $todoTask.classList.replace(`${activeTask}`, \"_\");\r\n      $todoTask.dataset.state = \"false\";\r\n      listTasks[$todoTask.dataset.id].classActive = \"_\";\r\n      listTasks[$todoTask.dataset.id].state = false;\r\n    }\r\n\r\n    if ($btnActiveTasks.classList.contains(\"active\")) {\r\n      tasksLength(false, $countTasks);\r\n      showAndHiddenTasks(true);\r\n    }\r\n\r\n    if ($btnCompletedTasks.classList.contains(\"active\")) {\r\n      tasksLength(true, $countTasks);\r\n      showAndHiddenTasks(false);\r\n    }\r\n  }\r\n\r\n  //Delete Task\r\n  if (e.target.matches(\".todo-task-delete\")) {\r\n    const $task = e.target.parentElement;\r\n    delete listTasks[$task.dataset.id];\r\n    drawTask();\r\n  }\r\n};\r\n\r\n//Operations Tasks\r\nconst todoTaskOperations = (e) => {\r\n  const $btnAllTasks = d.getElementById(\"btnAllTasks\");\r\n  const $btnActiveTasks = d.getElementById(\"btnActiveTasks\");\r\n  const $btnCompletedTasks = d.getElementById(\"btnCompletedTasks\");\r\n  const $detailsTasks = d.querySelectorAll(\".todo-details-btn\");\r\n  const $countTasks = d.querySelector(\".todo-tasks-tags > p > span\");\r\n  const $btnClearCompleted = d.getElementById(\"btnClearCompleted\");\r\n\r\n  if (e.target.matches(\".todo-details-btn\")) {\r\n    detailsTasksActions($detailsTasks, e.target);\r\n  }\r\n\r\n  if (e.target === $btnAllTasks) {\r\n    todoAllTasks($detailsTasks);\r\n  }\r\n\r\n  if (e.target === $btnActiveTasks) {\r\n    drawTask();\r\n    tasksLength(false, $countTasks);\r\n    showAndHiddenTasks(true);\r\n  }\r\n\r\n  if (e.target === $btnCompletedTasks) {\r\n    drawTask();\r\n    tasksLength(true, $countTasks);\r\n    showAndHiddenTasks(false);\r\n  }\r\n\r\n  if (e.target === $btnClearCompleted) {\r\n    const lengthTaskActive = Object.values(listTasks).filter(({ state }) => state).length;\r\n    if (lengthTaskActive > 0) {\r\n      alert(\"Se limpio correctamente las tareas completadas ðŸ˜ŽðŸ˜Ž\");\r\n    } else {\r\n      alert(\"No hay tareas cumplidas ðŸ˜’ðŸ˜’\");\r\n    }\r\n    showAndHiddenTasks(true, false);\r\n    drawTask();\r\n    detailsTasksActions($detailsTasks, $btnAllTasks);\r\n  }\r\n};\r\n\r\nconst detailsTasksActions = (details, target) => {\r\n  details.forEach((detail) => {\r\n    detail.classList.remove(\"active\");\r\n  });\r\n  target.classList.add(\"active\");\r\n};\r\n\r\nconst todoAllTasks = () => {\r\n  drawTask();\r\n};\r\n\r\n//Active and Completed Tasks (length)\r\nconst tasksLength = (active = true, countTask) => {\r\n  const completedTask = Object.values(listTasks).filter(({ state }) => state === active).length;\r\n  countTask.textContent = completedTask;\r\n};\r\n\r\n//Show and Hidden Task (Active - Complete) , active = state of the taks\r\n// optionTask = true default , false = deleteTasks Completed\r\nconst showAndHiddenTasks = (active = true, optionTask = true) => {\r\n  Object.values(listTasks).filter(({ id, state }) => {\r\n    if (state === active) {\r\n      d.querySelectorAll(\".todo-task\").forEach((task) => {\r\n        const $idTask = task.dataset.id;\r\n        if (id == $idTask) {\r\n          optionTask ? (task.style.display = \"none\") : delete listTasks[$idTask];\r\n        }\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\n//Assign Id , drag and drop , used for the insertElement\r\nconst assignIdDragAndDrop = (e) => {\r\n  let index = null;\r\n  d.querySelectorAll(\".todo-task\").forEach((task, i) => {\r\n    if (e.target.dataset.id === task.dataset.id) {\r\n      index = i;\r\n      return;\r\n    }\r\n  });\r\n  return index;\r\n};\r\n\r\n//Drag and Drop\r\nconst drag = (e) => {\r\n  e.dataTransfer.setData(\"text/plain\", e.target.dataset.id);\r\n  //Disbaled task-descricption\r\n  d.querySelectorAll(\".todo-task-description\").forEach((desc) => {\r\n    desc.style.pointerEvents = \"none\";\r\n  });\r\n  e.dataTransfer.effectAllowed = \"move\";\r\n};\r\n\r\nconst drop = (e) => {\r\n  e.preventDefault();\r\n  const data = e.dataTransfer.getData(\"text\");\r\n  const $target = d.querySelector(`.todo-task[data-id=\"${data}\"]`);\r\n\r\n  //Enabled task-descricption\r\n  d.querySelectorAll(\".todo-task-description\").forEach((desc) => {\r\n    desc.style.pointerEvents = \"auto\";\r\n  });\r\n\r\n  return $target;\r\n};\r\n"]}